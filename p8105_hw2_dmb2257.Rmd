---
title: "p8105_hw2_dmb2257"
author: "Diane Benites"
date: "2025-09-29"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r cars}
summary(cars)
```

## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
## Get working directory

```{r}
getwd()
```


## Load packages
```{r}
library(tidyverse)
library(janitor)
library(readxl)
```


## Unemployment Dataframe
read_csv: reads the unemployment_df file
janitor:this cleans names for unemployment_df,
select:selects the year and month columns,
pivot_longer: moves the Jan-Dec columns to a new column, "month", and places the values under percentages
mutate: renames the abbreviated months to the full month name


```{r}
unemployment_df = 
  read_csv(file = "./p8105_hw2_data/unemployment.csv")
  janitor::clean_names(unemployment_df) |>
  
  select(year, jan, feb, mar, apr, may, jun, jul, aug, sep, oct, nov, dec) |>
  
  pivot_longer(
    jan:dec, 
    names_to = "month",
    values_to = "percentages") |>
    
  mutate(
    month = 
      case_match(
       month,
       "jan" ~ "January",
       "feb" ~ "February",
       "mar" ~ "March",
       "apr" ~ "April",
       "may" ~ "May",
       "jun" ~ "June",
       "jul" ~ "July",
       "aug" ~ "August",
       "sep" ~ "September",
       "oct" ~ "October",
       "nov" ~ "November",
       "dec" ~ "December"),
     month = as.factor(month))
  
```

##Pols-month dataframe 
read_csv: this reads the file polsmonth_df
janitor: this cleans_names for polsmonth_df
separate: this separates the date (mon) into the year, month, and date
mutate: this renames the numeric month to the full month name
select: this selects all variables except for day, prez_gop, and prez_dem
pivot_longer: this takes values from prez_gop and prez_dem and places them into new variable "president"
mutate: this renames prez_gop in into gop and prez_dem into dem 
filter: this only includes datapoints that were yes for dem or gop. 

```{r}
polsmonth_df = 
  read_csv(
    file = "./p8105_hw2_data/polsmonth.csv") 

  janitor::clean_names(polsmonth_df) |>
  
  separate(mon, into = c("year", "month", "day")) |>

  mutate(
    month = 
      case_match(
       month,
       "01" ~ "January",
       "02" ~ "February",
       "03" ~ "March",
       "04" ~ "April",
       "05" ~ "May",
       "06" ~ "June",
       "07" ~ "July",
       "08" ~ "August",
       "09" ~ "September",
       "10" ~ "October",
       "11" ~ "November",
       "12" ~ "December"),
     month = as.factor(month)) |>
    select(year, month, prez_gop, prez_dem, gov_gop, gov_dem, sen_gop, sen_dem, rep_gop, rep_dem) |>
    
  pivot_longer(
    prez_gop:prez_dem,
    names_to = "president") |>
    
  mutate(
    president = case_match(
      president,
      "prez_gop" ~ "gop",
      "prez_dem" ~ "dem")) |>
    
  filter(value == 1)
```


## SNP Dataframe

read_csv: this reads the file snp.csv
janitor: this cleans snp_df
separate: this separates the date into month, day and year
mutate: this renames the numeric month into the full month name
relocate: this reorders the columns to be year then month then close 
select(-day): this removes the variable day

```{r}
snp_df = read_csv(file = "./p8105_hw2_data/snp.csv")
janitor::clean_names(snp_df) |>

separate(date, into = c("month", "day", "year")) |>

  mutate(
    month = 
      case_match(
       month,
       "01" ~ "January",
       "02" ~ "February",
       "03" ~ "March",
       "04" ~ "April",
       "05" ~ "May",
       "06" ~ "June",
       "07" ~ "July",
       "08" ~ "August",
       "09" ~ "September",
       "10" ~ "October",
       "11" ~ "November",
       "12" ~ "December"),
     month = as.factor(month)) |>
    relocate(year, month, close)|>
    select(-day)|>
  
print(n = 787)
```
## Problem 1 Paragraph 
The polsmonth dataset contains observations regarding the political parties of politicians. The "presidents" variable identifies the president during that given time as democrat or republican, demonstrated by value 1. The unemployment dataset contains observations regarding the percentage of unemployment during a given month each year. There were originally 13 variables, one for year and one for each of the 12 months. The months variables and values were consolidated into one month column and one percentages column, respectively. The snp dataset contains observations with 2 variables, the date of the observation and the closing S&P value at the given date. The date separated into month, date, and year, and the numeric values for month were renamed to the full month name. 


##Trashwheel Data Frame
read_excel: reads trashwheel.xlsx data 
janitor: this cleans_names for trashwheel_df
```{r}
getwd()
trashwheel_df =
  read_excel("p8105_hw2_data/trashwheel.xlsx", range = "Mr. Trash Wheel!A1:N651")
  janitor::clean_names(trashwheel_df) 
  
  read_excel("p8105_hw2_data/trashwheel.xlsx", range = "Professor Trash Wheel!A1:N651")
  janitor::clean_names(trashwheel_df)
  
  
    
```
## Problem 2 Paragraph


## Problem3
```{r}
zori_df = 
  read_csv(
    file = "./p8105_hw2_data/zori.csv")
  
  janitor::clean_names(zori_df) |>
  mutate(
    county_name = 
      case_match(
        county_name,
        "Kings County" ~"Kings",
        "Bronx County" ~ "Bronx",
        "New York County" ~ "New York",
        "Queens County" ~ "Queens",
        "Richmond County" ~ "Richmond"),
    county_name = as.factor(county_name))


```

```{r}
zipcodes_df = 
  read_csv(file = "./p8105_hw2_data/zipcodes.csv")
janitor::clean_names(zipcodes_df)
```

